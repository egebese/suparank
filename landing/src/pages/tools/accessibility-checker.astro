---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';

const tool = {
  id: 'accessibility-checker',
  name: 'Website Accessibility Checker',
  command: '/suparank-a11y',
  description: 'Free WCAG 2.2 accessibility checker for Level AA compliance. Test color contrast ratios, alt text, keyboard navigation, ARIA labels, and ADA compliance.',
  longDescription: 'Run a comprehensive WCAG 2.2 accessibility checker directly in your AI coding assistant. Test color contrast ratios (4.5:1 minimum for AA), image alt text validation, keyboard navigation, ARIA attributes, form labels, focus management, and semantic HTML. Get detailed fix recommendations for ADA compliance.',
  category: 'Accessibility',
  icon: 'ph-duotone ph-wheelchair'
};

const features = [
  { name: 'Image Accessibility', description: 'Alt text validation, decorative image handling, SVG accessibility' },
  { name: 'Color Contrast', description: '4.5:1 for normal text, 3:1 for large text and UI components' },
  { name: 'Keyboard Navigation', description: 'Focus order, keyboard traps, focus visibility, skip links' },
  { name: 'Form Accessibility', description: 'Input labels, error identification, instructions, validation' },
  { name: 'ARIA Validation', description: 'Name, role, value checks, valid ARIA attributes and roles' },
  { name: 'Semantic HTML', description: 'Heading hierarchy, landmark regions, proper element usage' },
  { name: 'Touch Targets', description: 'Minimum 44x44px tap targets for mobile accessibility' },
  { name: 'Status Messages', description: 'Live regions for dynamic content updates' }
];

const faqs = [
  {
    question: 'What is WCAG 2.2 Level AA compliance?',
    answer: 'WCAG 2.2 Level AA is the internationally recognized standard for web accessibility, required by ADA, Section 508, and EN 301 549. It includes criteria for perceivable, operable, understandable, and robust content. Level AA is the legal standard for most government and commercial websites.'
  },
  {
    question: 'How do I check color contrast ratio for accessibility?',
    answer: 'This tool automatically analyzes your CSS to calculate contrast ratios between text and background colors. WCAG 2.2 requires a minimum 4.5:1 ratio for normal text and 3:1 for large text (18pt+ or 14pt+ bold) and UI components. The checker flags any combinations that fail these thresholds and suggests compliant alternatives.'
  },
  {
    question: 'What alt text is required for WCAG compliance?',
    answer: 'Every meaningful image must have descriptive alt text (WCAG 1.1.1). Decorative images should have empty alt="" attributes. Alt text should describe the image\'s purpose or content, not just say "image of". This tool checks for missing alt attributes and flags generic phrases like "image" or "picture".'
  },
  {
    question: 'How do I test keyboard navigation accessibility?',
    answer: 'The checker validates that all interactive elements are keyboard accessible, focus order is logical, focus indicators are visible, and there are no keyboard traps. It checks for proper tabindex usage, skip links, and ensures users can operate all functionality with keyboard alone (WCAG 2.1.1).'
  }
];

// Schema.org
const softwareSchema = {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "Suparank Accessibility Audit",
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Cross-platform",
  "description": tool.longDescription,
  "url": `https://suparank.io/tools/${tool.id}`,
  "author": { "@type": "Organization", "name": "Suparank" },
  "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
};

const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map(faq => ({
    "@type": "Question",
    "name": faq.question,
    "acceptedAnswer": { "@type": "Answer", "text": faq.answer }
  }))
};

const exampleOutput = `═══════════════════════════════════════════════════════════════════
SUPARANK ACCESSIBILITY AUDIT
═══════════════════════════════════════════════════════════════════
File: src/components/ContactForm.tsx
Standard: WCAG 2.2 Level AA

COMPLIANCE SCORE: 73% (Partial)

───────────────────────────────────────────────────────────────────
CRITICAL (Must Fix) - 3 issues
───────────────────────────────────────────────────────────────────

[A11Y] Line 24: Image missing alt text
  <img src="hero.jpg">
  Fix: Add alt="Description of image content"
  WCAG: 1.1.1 Non-text Content

[A11Y] Line 56: Button has no accessible name
  <button><CloseIcon /></button>
  Fix: Add aria-label="Close dialog"
  WCAG: 4.1.2 Name, Role, Value

[A11Y] Line 89: Form input missing label
  <input type="email" placeholder="Email">
  Fix: Add <label htmlFor="email">Email</label>
  WCAG: 1.3.1 Info and Relationships

───────────────────────────────────────────────────────────────────
SERIOUS (Should Fix) - 2 issues
───────────────────────────────────────────────────────────────────

[A11Y] Line 34: Focus outline removed
  .btn { outline: none; }
  Fix: Add :focus-visible { outline: 2px solid var(--focus); }
  WCAG: 2.4.7 Focus Visible

[A11Y] Line 112: Color contrast insufficient (2.8:1)
  Element: .text-gray-400 on white background
  Fix: Use text-gray-600 or darker (4.5:1 ratio)
  WCAG: 1.4.3 Contrast (Minimum)

───────────────────────────────────────────────────────────────────
PASSED CHECKS (25)
───────────────────────────────────────────────────────────────────

✓ [3.1.1] Page has lang attribute
✓ [2.4.2] Page has descriptive title
✓ [1.3.1] Heading hierarchy correct
✓ [2.1.2] No keyboard traps detected
...

═══════════════════════════════════════════════════════════════════`;
---

<Layout
  title="Free Website Accessibility Checker - WCAG 2.2 & ADA Compliance | Suparank"
  description="Free WCAG 2.2 accessibility checker. Test color contrast (4.5:1), alt text, keyboard navigation, ARIA labels, ADA compliance. Works in Claude Code & Cursor."
>
  <Fragment slot="head">
    <script type="application/ld+json" set:html={JSON.stringify(softwareSchema)} />
    <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
  </Fragment>
  <Header />
  <main>
    <!-- Hero -->
    <section class="pt-24 md:pt-32 pb-16 section-divider">
      <div class="container mx-auto px-6">
        <div class="max-w-4xl mx-auto">
          <a href="/tools" class="inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground mb-6">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
            All Tools
          </a>

          <div class="flex items-center gap-4 mb-6">
            <i class="ph-duotone ph-wheelchair text-5xl text-primary"></i>
            <span class="text-xs font-medium px-2 py-1 bg-primary/10 text-primary rounded-full">{tool.category}</span>
          </div>

          <h1 class="text-4xl md:text-5xl font-bold tracking-tight mb-4">{tool.name}</h1>
          <p class="text-xl text-muted-foreground mb-8">{tool.longDescription}</p>

          <div class="bg-muted/50 border p-4 mb-6">
            <p class="text-sm text-muted-foreground mb-2">Install and use:</p>
            <div class="space-y-2">
              <div class="flex items-center gap-2 bg-background border px-4 py-2 font-mono text-sm">
                <code class="flex-1">curl -fsSL https://suparank.io/install | bash</code>
              </div>
              <div class="flex items-center gap-2 bg-background border px-4 py-2 font-mono text-sm">
                <code class="flex-1 text-primary">{tool.command}</code>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Features -->
    <section class="py-16 section-divider bg-muted/30">
      <div class="container mx-auto px-6">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-2xl font-bold mb-8">What It Checks</h2>
          <div class="grid md:grid-cols-2 gap-4">
            {features.map(feature => (
              <div class="p-4 bg-background border">
                <h3 class="font-semibold mb-1">{feature.name}</h3>
                <p class="text-sm text-muted-foreground">{feature.description}</p>
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>

    <!-- Example Output -->
    <section class="py-16 section-divider">
      <div class="container mx-auto px-6">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-2xl font-bold mb-8">Example Output</h2>
          <div class="bg-zinc-950 text-zinc-100 p-6 overflow-x-auto">
            <pre class="text-sm font-mono whitespace-pre">{exampleOutput}</pre>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="py-16 section-divider bg-muted/30">
      <div class="container mx-auto px-6">
        <div class="max-w-3xl mx-auto">
          <h2 class="text-2xl font-bold mb-8">Frequently Asked Questions</h2>
          <div class="space-y-4">
            {faqs.map(faq => (
              <div class="border p-6 bg-background">
                <h3 class="font-semibold mb-2">{faq.question}</h3>
                <p class="text-muted-foreground">{faq.answer}</p>
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>

    <!-- Related Tools -->
    <section class="py-16 section-divider">
      <div class="container mx-auto px-6">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-2xl font-bold mb-8">Related Tools</h2>
          <div class="grid md:grid-cols-3 gap-4">
            <a href="/tools/on-page-seo-checker" class="p-4 border hover:border-primary/50 transition-colors">
              <i class="ph-duotone ph-chart-bar text-2xl text-primary"></i>
              <h3 class="font-semibold mt-2">On-Page SEO Checker</h3>
              <p class="text-sm text-muted-foreground">Title, meta, headings</p>
            </a>
            <a href="/tools/alt-text-checker" class="p-4 border hover:border-primary/50 transition-colors">
              <i class="ph-duotone ph-image text-2xl text-primary"></i>
              <h3 class="font-semibold mt-2">Image Alt Text Checker</h3>
              <p class="text-sm text-muted-foreground">Alt text & image SEO</p>
            </a>
            <a href="/tools/core-web-vitals-checker" class="p-4 border hover:border-primary/50 transition-colors">
              <i class="ph-duotone ph-lightning text-2xl text-primary"></i>
              <h3 class="font-semibold mt-2">Core Web Vitals Checker</h3>
              <p class="text-sm text-muted-foreground">LCP, INP, CLS metrics</p>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="py-16 section-divider bg-primary/5">
      <div class="container mx-auto px-6">
        <div class="max-w-3xl mx-auto text-center">
          <h2 class="text-2xl font-bold mb-4">Make Your Site Accessible</h2>
          <p class="text-muted-foreground mb-6">Install Suparank tools and audit accessibility in seconds.</p>
          <div class="bg-background border p-4 max-w-xl mx-auto">
            <code class="font-mono">curl -fsSL https://suparank.io/install | bash</code>
          </div>
        </div>
      </div>
    </section>
  </main>
  <Footer />
</Layout>
