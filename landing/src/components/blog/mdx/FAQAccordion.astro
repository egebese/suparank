---
interface FAQItem {
  question: string;
  answer: string;
}

interface Props {
  items?: FAQItem[];
  title?: string;
}

const { items = [], title } = Astro.props;
---

{items.length > 0 && (
  <div class="faq-accordion my-8">
    {title && (
      <h3 class="text-xl font-semibold text-foreground mb-4">{title}</h3>
    )}
    <div class="space-y-2">
      {items.map((item, index) => (
        <details
          class="group border border-border rounded-sm overflow-hidden"
          open={index === 0}
        >
          <summary class="flex items-center justify-between p-4 cursor-pointer bg-card hover:bg-muted transition-colors list-none">
            <span class="font-medium text-foreground pr-4">{item.question}</span>
            <svg
              class="w-5 h-5 text-muted-foreground flex-shrink-0 transition-transform group-open:rotate-180"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </summary>
          <div class="p-4 pt-0 text-muted-foreground text-sm leading-relaxed border-t border-border bg-card">
            <div class="pt-4">
              {item.answer}
            </div>
          </div>
        </details>
      ))}
    </div>
  </div>
)}

<style>
  details summary::-webkit-details-marker {
    display: none;
  }

  details[open] summary {
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
  }
</style>
